<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-8">
<html>
<head>
	<title> Sample</title>
	<script src ="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>
	<script>
	var data = [10,20,30,40,50];
	
	var canvas = d3.select("body")
	.append("svg")
	.attr("width", 500)
	.attr("height", 500)
	.append("g")
		.attr("transform","translate(50,50)");

	// var circle = canvas.append("circle")
	// .attr("cx",50)
	// .attr("cy",50)
	// .attr("r",25);

	
	// circle.transition()
	// .duration(1500)
	// .delay(1000)
	// .attr("r",150);

	// var diagonal = d3.svg.diagonal()
	// .source((x:10, y:10))
	// .target((x:100, y:100));

	// canvas.append("path")
	// .attr("fill","none")
	// .attr("stroke", "black")
	// .attr("d", diagonal);

	var tree = d3.layout.tree()
		.size([400,400]);

	// read data sent from flask server in "mydata" variable
	// console.log("{{mydata}}");

	d3.json("data.json", function (data){

		// console.log(data);

		var nodes = tree.nodes(data);
		var links = tree.links(nodes);

		var node = canvas.selectAll(".node")
		.data(nodes)
		.enter()
		.append("g")
		.attr("class","node")
		.attr("transform", function(d){return "translate(" + d.x + "," + d.y + ")"; });

		console.log(node);

		var noderadius = 20;

		var circle = node.append("circle")
		.attr("r",noderadius)
		.attr("stroke","steelblue")
		.attr("fill","Blue");


		

		var nodetext = node.append("text")
		.text(function (d) {return d.name;})
		
		nodetext.attr("font-size","20px")
				.attr("text-anchor", "middle");

		var diagonal = d3.svg.diagonal();

		var link = canvas.selectAll(".link")
			.data(links)
			.enter()
			.append("path")
			.attr("class","link")
			.attr("fill","none")
			.attr("stroke","#ADADAD")
			.attr("d",diagonal);

		// canvas.attr("transform", "rotate(180)");

		console.log(link);


	})

	
	</script>
	
</body>
</html>